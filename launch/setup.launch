<?xml version="1.0"?>
<launch>
    
    <!-- Start up the robot -->
    <include file="$(find poli2_launch)/launch/machine1.launch">
        <remap from="gen2" to="j2s7s300_driver"/>
        <arg name="start_manipulation" value="true"/>
        <arg name="robot_name" value="boop"/>
        <!-- <arg name="start_rviz" value="true" /> -->
    </include>


    <node pkg="rosservice" type="rosservice" name="global_loc" args="call --wait /j2s7s300_driver/in/home_arm" />
    
    <!-- Teleop -->
    <node pkg="joy" name="joy_node" type="joy_node" />
   

    <!-- <node pkg="teleop_lib" name="profile_builder" type="profile_builder.py">
        <remap from="gen2" to="j2s7s300_driver"/>
    </node> -->
    <node pkg="teleop_lib" name="collect_teleop_data" type="collect_teleop_data.py">
        <remap from="gen2" to="j2s7s300_driver"/>
    </node>

    <!-- <node pkg="hri_preferences_study" name="teleop" type="teleop.py" output="screen"></node> -->
    <!-- <node pkg="hri_preferences_study" name="goto_target" type="goto_target.py" output="screen"></node>  -->
    <node pkg="hri_preferences_study" name="shared_control" type="shared_control.py" output="screen"></node> 
    <!-- <node pkg="hri_preferences_study" name="shared_control" type="shared_control.py" output="screen"></node>  -->


<!-- arm.move_to_ee_pose(p.pose) -->
<!--  p.pose.position.x+=0.1-->
<!-- p=arm.group.get_current_pose() -->
<!-- Note to self: stop velocity before switching to armpy to move to eef position -->

</launch>